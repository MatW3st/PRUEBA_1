{% extends 'layouts/base.html' %}
{% block content %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Tareas</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <!-- Sidebar items here -->
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2"><i class="bi bi-journal-check"></i> Minuta</h1>
                </div>

                <!-- Content below Minuta without card format -->
                <div class="content">
                    <h5>María Guadalupe Gallegos Cerón · 21 mar</h5>
                    <p>100 puntos</p>
                </div>

                <!-- Rest of the content -->
                <div class="row">
                    <div class="col-md-8">
                        <!-- Main Section -->
                        <div class="card mb-4">
                            <div class="card-body">
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed fringilla leo ut ex commodo, sed malesuada nisi iaculis. Vivamus fermentum vitae dui a posuere. Aliquam tempor libero ac mi vehicula, at pharetra lectus bibendum. Donec congue velit odio, in sollicitudin odio accumsan ut. Nam ut ante ut purus convallis faucibus nec in lorem. Proin vestibulum tortor eu nisi posuere eleifend.</p>

                            </div>
                        </div>

                        <!-- Comentarios privados -->
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Comentarios privados</h5>
                                <a href="#" class="card-link" id="commentLink">Agregar un comentario a María Guadalupe Gallegos Cerón</a>
                           <div id="commentBox" style="display: none;">
                                    <textarea id="commentInput" class="form-control mb-2" placeholder="Escribe tu comentario aquí"></textarea>
                                    <button id="commentSubmitButton" class="btn btn-primary">Enviar comentario</button>

                                </div>
                                <div id="commentSection"></div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <!-- Tu Trabajo Section -->
                        <div class="card mb-4">
                            <div class="card-body">
                                <h5 class="card-title">Tu trabajo</h5>
                                <p class="card-text">Entregada</p>
                                <img src="" alt="Imagen de trabajo" class="img-fluid mb-3" style="max-width: 100%;">
                                <button class="btn btn-secondary" id="cancelDeliveryButton">Anular la entrega</button>
                                <button class="btn btn-primary mb-3" id="addFileButton" style="display: none;">+ Agregar o crear</button>
                                <input type="file" id="fileInput" style="display: none;">
                                <button class="btn btn-primary" id="submitDeliveryButton" style="display: none;">Entregar</button>

                                

                            </div>
                        </div>
                    </div>
                </div>

                <!-- Agregar comentario de la clase -->
                <div class="row">
                    <!-- Col-MD-8 Section -->
                    <div class="col-md-8">
                        <a href="#" class="card-link" id="toggleCommentSection">Agregar comentario de la clase</a>
                        <div id="commentSection" style="display: none;">
                            <!-- Aquí puedes colocar tu formulario de comentario -->
                            <textarea class="form-control mb-2" placeholder="Escribe tu comentario aquí"></textarea>
                            <button class="btn btn-primary">Enviar comentario</button>
                        </div>
                    </div>
                </div>
                
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        document.getElementById("toggleCommentSection").addEventListener("click", function(event) {
            event.preventDefault();
            var commentSection = document.getElementById("commentSection");
            if (commentSection.style.display === "none") {
                commentSection.style.display = "block";
            } else {
                commentSection.style.display = "none";
            }
        });
        function showCancelButtonAndImage() {
            var image = document.querySelector(".img-fluid");
            image.style.display = "block";
            var cancelButton = document.getElementById("cancelDeliveryButton");
            cancelButton.style.display = "block";
        }
    
        // Función para ocultar el botón de "Anular entrega" y la etiqueta de la imagen
        function hideCancelButtonAndImage() {
            var image = document.querySelector(".img-fluid");
            image.style.display = "none";
            var cancelButton = document.getElementById("cancelDeliveryButton");
            cancelButton.style.display = "none";
        }
    
        document.getElementById("cancelDeliveryButton").addEventListener("click", function(event) {
            event.preventDefault();
            hideCancelButtonAndImage();
            var addFileButton = document.getElementById("addFileButton");
            addFileButton.style.display = "block";
            var submitDeliveryButton = document.getElementById("submitDeliveryButton");
            submitDeliveryButton.style.display = "block";
        });
    
        document.getElementById("submitDeliveryButton").addEventListener("click", function(event) {
            event.preventDefault();
            showCancelButtonAndImage();
            var addFileButton = document.getElementById("addFileButton");
            addFileButton.style.display = "none";
            var submitDeliveryButton = document.getElementById("submitDeliveryButton");
            submitDeliveryButton.style.display = "none";
        });
    
        document.getElementById("addFileButton").addEventListener("click", function(event) {
            event.preventDefault();
            var fileInput = document.getElementById("fileInput");
            fileInput.click();
        });

        document.getElementById("commentSubmitButton").addEventListener("click", function(event) {
            event.preventDefault();
            var commentInput = document.getElementById("commentInput").value;
            if (commentInput.trim() !== "") {
                var commentSection = document.getElementById("commentSection");
                var comment = document.createElement("p");
                comment.textContent = commentInput;
                commentSection.appendChild(comment);
                document.getElementById("commentInput").value = ""; // Limpiar el textarea después de enviar el comentario
            }
        });
    
        document.getElementById("commentLink").addEventListener("click", function(event) {
            event.preventDefault();
            var commentBox = document.getElementById("commentBox");
            commentBox.style.display = "block";
        });
    </script>
    


</body>
</html>
{% endblock %}